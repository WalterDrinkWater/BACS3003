{%extends "studLayout.html"%}

{% block title %}Academic Qualification{% endblock %}

{% block content %}
<script>
    var subjectObject = {
        "Front-end": {
            "HTML": ["Links", "Images", "Tables", "Lists"],
            "CSS": ["Borders", "Margins", "Backgrounds", "Float"],
            "JavaScript": ["Variables", "Operators", "Functions", "Conditions"]
        },
        "Back-end": {
            "PHP": ["Variables", "Strings", "Arrays"],
            "SQL": ["SELECT", "UPDATE", "DELETE"]
        }
    }
    window.onload = function () {
        var subjectSel = document.getElementById("subject");
        var topicSel = document.getElementById("topic");
        var chapterSel = document.getElementById("chapter");
        for (var x in subjectObject) {
            subjectSel.options[subjectSel.options.length] = new Option(x, x);
        }
        subjectSel.onchange = function () {
            //empty Chapters- and Topics- dropdowns
            chapterSel.length = 1;
            topicSel.length = 1;
            //display correct values
            for (var y in subjectObject[this.value]) {
                topicSel.options[topicSel.options.length] = new Option(y, y);
            }
        }
        topicSel.onchange = function () {
            //empty Chapters dropdown
            chapterSel.length = 1;
            //display correct values
            var z = subjectObject[subjectSel.value][this.value];
            for (var i = 0; i < z.length; i++) {
                chapterSel.options[chapterSel.options.length] = new Option(z[i], z[i]);
            }
        }
    }
</script>

<div class="container mb-2 d-flex flex-row">
    {% include 'includes/appnav.html' %}
    <div class="col-9">
        <div class="fs-2 fw-bold text-center mb-2">Academic Qualification</div>
        <p>SPM/O LEVEL/EQUIVALENT:<br />
            Ex-TARCians and applicants from other institution of higher learning with SPM/O Level/equivalent results are
            also
            required to complete this section.
        </p>


        <form class="row g-3" action="/application/assess" method="POST" enctype="multipart/form-data">
            <select name="subject" id="subject">
                <option value="" selected="selected">Select subject</option>
            </select>
            <br><br>
            Topics: <select name="topic" id="topic">
                <option value="" selected="selected">Please select subject first</option>
            </select>
            <br><br>
            Chapters: <select name="chapter" id="chapter">
                <option value="" selected="selected">Please select topic first</option>
            </select>
            <div class="col-6 mb-3">
                <label for="qualification" class="form-label">Qualification</label>
                <select id='mySelect' class="form-control nav-tabs-selector">
                    <option value="SPM">SPM</option>
                    <option value="IGCSE/GCSE/O Level">IGCSE/GCSE/O Level</option>
                </select>
            </div>

            <input class="form-control border-3" type="file" id="qualification" name="qualification"
                accept=".jpg, .png, .jpeg" onchange="loadFile(event, 'qualificationPreview')" />
            <img id="qualificationPreview" class="mt-3" width="300" height="300" />
            <button type="submit" class="btn btn-primary">Save & Next</button>
        </form>
    </div>
</div>

<script type="text/javascript">
    function EnableDisableTextBox(healthIssue) {
        var selectedValue = healthIssue.options[healthIssue.selectedIndex].value;
        var txtOther = document.getElementById("others");
        txtOther.disabled = selectedValue == "Others" ? false : true;
        if (!txtOther.disabled) {
            txtOther.focus();
        }
    }

    var loadFile = function (event, frame) {
        var output = document.getElementById(frame);
        output.src = URL.createObjectURL(event.target.files[0]);
        output.onload = function () {
            URL.revokeObjectURL(output.src); // free memory
        };
    };

    $('.nav-tabs-selector').on('change', function (e) {
        $(this).closest(".tab-area").find('.nav-tabs li a').eq($(this).val()).tab('show');
    });
    
</script>
{%endblock%}